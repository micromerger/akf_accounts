{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-01-09 15:36:02.315961",
 "css": ".img_width {\n    max-width: 45% !important;\n}\n\n.font-12{\n    font-size: 14px;\n}\n.text-underline{\n    text-decoration: UNDERLINE;\n}\n\n.text-line-height {\n    line-height: 1.6px !important;\n    /*margin-top: 15px !important;*/\n}\n.text-bold{\n    font-weight: bold;\n}\n\n/*.print-format .table-bordered td, .print-format .table-bordered th {*/\n/*    border: 1px solid black;*/\n/*}*/\n\n.print-format th {\n    color: black;\n}\n\n.print-format td, .print-format th {\n    padding: 2px 2px 2px 2px !important;\n}\n\n.details{\n width: 40%;   \n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Donation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<div class=\"row section-break\">\n   \n   <div class=\"col-xs-4\">\n       <img class=\"img_width\" src=\"/assets/akf_accounts/image/akf_logo.png\">\n   </div>\n   <div class=\"col-xs-8\">\n      <h3 class=\"text-center\">\n         <div>ALKHIDMAT FOUNDATION PAKISTAN</div>\n         <div class=\"font-12\">Branch: Al Khidmat Foundation Pakistan</div>\n         <div class=\"font-12 text-underline\">Multi Donor Receipt</div>\n      </h3>\n   </div>\n</div>\n<br>\n<div class=\"row section-break\">\n   <div class=\"col-xs-12 column-break\">\n      <div class=\"row text-line-height\">\n         <div class=\"col-xs-3 text-bold\">\n            Doc Id:\n         </div>\n         <div class=\"col-xs-6\">\n            {{doc.name}}\n         </div>\n      </div>\n      <div class=\"row text-line-height\" >\n         <div class=\"col-xs-3 text-bold\">\n            Receipt Date:\n         </div>\n         <div class=\"col-xs-6\">\n            {{doc.get_formatted(\"posting_date\")}}\n         </div>\n      </div>\n      <!--<div class=\"row text-line-height\" >-->\n      <!--   <div class=\"col-xs-3 text-bold\">-->\n      <!--      Transaction Type:-->\n      <!--   </div>-->\n      <!--   <div class=\"col-xs-6\">-->\n      <!--      ?-->\n      <!--   </div>-->\n      <!--</div>-->\n      <!--<div class=\"row text-line-height\" >-->\n      <!--   <div class=\"col-xs-3 text-bold\">-->\n      <!--      Bank:-->\n      <!--   </div>-->\n      <!--   <div class=\"col-xs-6-->\n      <!--      \">-->\n      <!--      ?-->\n      <!--   </div>-->\n      <!--</div>-->\n      <!--<div class=\"row text-line-height\" >-->\n      <!--   <div class=\"col-xs-3 text-bold\">-->\n      <!--      Cheque/Ref #:-->\n      <!--   </div>-->\n      <!--   <div class=\"col-xs-6\">-->\n      <!--      ?-->\n      <!--   </div>-->\n      <!--</div>-->\n   </div>\n</div>\n<br>\n<div class=\"row section-break\">\n   <div class=\"col-xs-12\">\n      <table class=\"table mt-3 table-bordered\" style=\"font-size: 14px;\">\n         <thead>\n            <tr>\n               <th class=\"\">\n                  <b>SR.</b>\n               </th>\n               <th class=\"details\">\n                  <b>Details</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>Gross Amount</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>Admin Rate</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>Admin Amt</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>FRC Rate</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>FRC Amt</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>EC Rate</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>EC Amt</b>\n               </th>\n               <th class=\"text-center\">\n                  <b>Net Amount</b>\n               </th>\n            </tr>\n         </thead>\n         <tbody>\n             {% set vars = {\n                    'total_gross_amount': 0, \n                    'total_net_amount': 0,\n                    'total_admin_rate': 0,\n                    'total_admin_amount': 0,\n                    'total_frc_rate': 0,\n                    'total_frc_amount': 0,\n                    'total_ec_rate': 0,\n                    'total_ec_amount': 0,\n                } \n            %}\n            \n            {% for row in doc.payment_detail %}\n            <tr>\n               <td> {{row.idx}} </td>\n               <td class=\"\">\n                  <small><b>Payee</b>:{{row.donor_id}}(<b>{{row.donor_name}}</b>)</small><br>\n                  <small><b>Service Area</b>: {{row.pay_service_area}}</small><br>\n                  <small><b>Subservice Area</b>: {{row.pay_subservice_area}}</small><br>\n                  <small><b>Product</b>: {{row.product}}</small><br>\n                  <small><b>Project</b>: {{row.project}}</small><br>\n                  <small><b>Fund/Class</b>: {{row.equity_account}}</small><br>\n                  <small><b>Receivable</b>: {{row.receivable_account}}</small><br>\n                  <small><b>Mode of Payment</b>: {{row.mode_of_payment or \"---\"}}</small><br>\n                  <small><b>Bank/Cash Desc</b>: {{row.account_paid_to or \"\"}}, {{row.get_formatted(\"donation_amount\",doc)}}</small><br>\n                  <small><b>Manual_Receipt_Number</b>:{{row.receipt_number or \"---\"}}</small><br>\n                  <small><b>Cheque #</b>: {{row.transaction_no_cheque_no or \"---\"}}</small>\n               </td>\n               <td class=\"text-center\"> {{ row.get_formatted(\"donation_amount\", doc)}} </td>\n               \n                {% set admin_info = frappe.db.get_value(\"Deduction Breakeven\", {\"parent\": doc.name, \"random_id\": row.random_id, \"income_type\": \"Admin Income\"} ,[\"percentage\", \"amount\"], as_dict=1) %}\n                {% if admin_info %} \n                    {% if vars.update({'total_admin_rate': vars.total_admin_rate + admin_info.percentage }) %} {% endif %}\n                    {% if vars.update({'total_admin_amount': vars.total_admin_amount + admin_info.amount }) %} {% endif %}\n                    \n                    <td class=\"text-center\">{{admin_info.percentage}}</td>\n                    <td class=\"text-center\">{{frappe.utils.fmt_money(admin_info.amount, currency=doc.currency)}}</td>\n                {% else %}\n                    <td class=\"text-center\">0</td>\n                    <td class=\"text-center\">0</td>\n                {% endif %}\n                \n                {% set frc_info = frappe.db.get_value(\"Deduction Breakeven\", {\"parent\": doc.name, \"random_id\": row.random_id, \"income_type\": \"Fund raising\"} ,[\"percentage\", \"amount\"], as_dict=1) %}\n                {% if frc_info %} \n                    {% if vars.update({'total_frc_rate': vars.total_frc_rate + frc_info.percentage }) %} {% endif %}\n                    {% if vars.update({'total_frc_amount': vars.total_frc_amount + frc_info.amount }) %} {% endif %}\n                    <td class=\"text-center\">{{frc_info.percentage}}</td>\n                    <td class=\"text-center\">{{frappe.utils.fmt_money(frc_info.amount, currency=doc.currency)}}</td>\n                {% else %}\n                    <td class=\"text-center\">0</td>\n                    <td class=\"text-center\">0</td>\n                {% endif %}\n                \n                {% set ec_info = frappe.db.get_value(\"Deduction Breakeven\", {\"parent\": doc.name, \"random_id\": row.random_id, \"income_type\": \"Endowment\"} ,[\"percentage\", \"amount\"], as_dict=1) %}\n                {% if ec_info %}\n                    {% if vars.update({'total_ec_rate': vars.total_ec_rate + ec_info.percentage }) %} {% endif %}\n                    {% if vars.update({'total_ec_amount': vars.total_ec_amount + ec_info.amount }) %} {% endif %}\n                    <td class=\"text-center\">{{ec_info.percentage}}</td>\n                    <td class=\"text-center\">{{frappe.utils.fmt_money(ec_info.amount, currency=doc.currency)}}</td>\n                {% else %}\n                    <td class=\"text-center\">0</td>\n                    <td class=\"text-center\">0</td>\n                {% endif %}\n                <td class=\"text-center\">{{row.get_formatted(\"net_amount\", doc)}}</td>\n                \n                {% if vars.update({'total_gross_amount': vars.total_gross_amount + row.donation_amount }) %} {% endif %}\n                {% if vars.update({'total_net_amount': vars.total_net_amount + row.net_amount }) %} {% endif %}\n                \n            </tr>\n            {% endfor %}\n            <tr>\n               <td class=\"text-bold\" colspan=\"2\">Total</td>\n               <td class=\"text-center\">{{ frappe.utils.fmt_money(vars.total_gross_amount, currency=doc.currency) }}</td>\n               <td class=\"text-center\">{{vars.total_admin_rate}}</td>\n               <td class=\"text-center\">{{frappe.utils.fmt_money(vars.total_admin_amount, currency=doc.currency)}}</td>\n               <td class=\"text-center\">{{vars.total_frc_rate}}</td>\n               <td class=\"text-center\">{{frappe.utils.fmt_money(vars.total_frc_amount, currency=doc.currency)}}</td>\n               <td class=\"text-center\">{{vars.total_ec_rate}}</td>\n               <td class=\"text-center\">{{frappe.utils.fmt_money(vars.total_ec_amount, currency=doc.currency)}}</td>\n               <td class=\"text-center\">{{frappe.utils.fmt_money(vars.total_net_amount, currency=doc.currency)}}</td>\n            </tr>\n         </tbody>\n      </table>\n   </div>\n</div>\n\n{% if frappe.db.exists(\"GL Entry\", {\"is_cancelled\": 0, \"voucher_no\": doc.name}) %}\n    <div class=\"row section-break\">\n       <div class=\"col-xs-12\">\n          <p class=\"text-bold\">GL INFO</p>\n        <table class=\"table mt-3 table-bordered\" style=\"font-size: 14px;\">\n            <thead>\n                <tr>\n                   <th class=\"\">\n                      <b>SR.</b>\n                   </th>\n                   <th >\n                      <b>Account</b>\n                   </th>\n                   <th class=\"details\">\n                      <b>Description</b>\n                   </th>\n                   <th class=\"\">\n                      <b>Fund Class</b>\n                   </th>\n                   <th class=\"text-center\">\n                      <b>Debit</b>\n                   </th>\n                   <th class=\"text-center\">\n                      <b>Credit</b>\n                   </th>\n                </tr>\n            </thead>\n              <tbody>\n                \n                 {% set gl_vars = {\n                        'total_debit': 0, \n                        'total_credit': 0,\n                    } \n                %}\n                {% set count = {'idx':0} %}\n    \n                {% for row in frappe.db.get_list(\"GL Entry\", filters={\"is_cancelled\": 0, \"voucher_no\": doc.name}, fields=[\"*\"]) %}\n                <tr>\n                  {% if count.update({'idx': count.idx + 1}) %} {% endif %}\n                   <td> {{count.idx}} </td>\n                   <td> {{row.account}} </td>\n                   <td class=\"\">\n                      {% set donor_name = frappe.db.get_value(\"Donor\", row.donor, \"donor_name\") %}\n                      <small><b>Payee</b>:{{row.donor}}(<b>{{donor_name}}</b>)</small><br>\n                      <small><b>Service Area</b>: {{row.program}}</small><br>\n                      <small><b>Subservice Area</b>: {{row.subservice_area}}</small><br>\n                      <small><b>Product</b>: {{row.product}}</small><br>\n                      <small><b>Project</b>: {{row.project}}</small><br>\n                   </td>\n                   <td class=\"\">  {{row.account}}</td>\n                   <td class=\"text-center\"> {{frappe.utils.fmt_money(row.debit_in_transaction_currency, currency=doc.currency)}}</td>\n                   <td class=\"text-center\"> {{frappe.utils.fmt_money(row.credit_in_transaction_currency, currency=doc.currency)}}</td>\n                    {% if gl_vars.update({'total_debit': gl_vars.total_debit + row.debit_in_transaction_currency}) %} {% endif %}\n                    {% if gl_vars.update({'total_credit': gl_vars.total_credit + row.credit_in_transaction_currency}) %} {% endif %}\n                </tr>\n                {% endfor %}\n                <tr>\n                   <td class=\"text-bold\" colspan=\"4\">Total</td>\n                   <td class=\"text-center\">{{ frappe.utils.fmt_money(gl_vars.total_debit, currency=doc.currency) }}</td>\n                   <td class=\"text-center\">{{frappe.utils.fmt_money(gl_vars.total_credit, currency=doc.currency)}}</td>\n                </tr>\n             </tbody>\n        </table>\n    </div>\n    </div>\n{% endif %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-01-09 20:13:51.118367",
 "modified_by": "Administrator",
 "module": "AKF Accounts",
 "name": "Multi Donor Receipt",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}